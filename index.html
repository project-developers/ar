<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Cube</title>
    <style>
        #container {
            width: 100%;
            height: 100vh;
            position: relative;
        }

        #ar-video {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        #overlay {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div id="container">
        <video id="ar-video" autoplay></video>
        <canvas id="overlay"></canvas>
    </div>

    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
    <script>
        AFRAME.registerComponent('spin', {
            tick: function (time, timeDelta) {
                this.el.object3D.rotation.y += 0.01 * timeDelta / 16;
            }
        });

        document.addEventListener('DOMContentLoaded', function () {
            // Initialize AR.js with NFT marker
            const scene = document.querySelector('a-scene');
            scene.setAttribute('arjs', {
                sourceType: 'webcam',
                debugUIEnabled: false,
                detectionMode: 'mono_and_matrix',
                matrixCodeType: '3x3'
            });

            // Add marker and cube
            const marker = document.createElement('a-marker');
            marker.setAttribute('type', 'nft');
            marker.setAttribute('url', 'marker.patt');
            const cube = document.createElement('a-box');
            cube.setAttribute('material', 'color: #FF0000');
            cube.setAttribute('scale', '1 1 1');
            cube.setAttribute('position', '0 0 0');
            cube.setAttribute('spin', '');
            marker.appendChild(cube);
            scene.appendChild(marker);
        });
    </script>
</body>
</html>
